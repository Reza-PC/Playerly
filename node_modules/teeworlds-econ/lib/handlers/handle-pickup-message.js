var debug, handlePickupMessage, parseWeapon, ref;

ref = require('../utils'), debug = ref.debug, parseWeapon = ref.parseWeapon;

handlePickupMessage = function(econ, message) {
  var matches;
  if (matches = /^\[game\]: pickup player='([0-9]+):(.+?)' item=(2|3)+\/([0-9]+)$/.exec(message)) {
    debug.events('%s:%s econ %s event', econ.server.host, econ.server.port, 'pickup');
    return econ.emit('pickup', {
      player: matches[2],
      weapon: parseWeapon(parseInt(matches[4])),
      client: econ.getClientInfo(parseInt(matches[1]))
    });
  }
};

module.exports = handlePickupMessage;
